<script>
  const toggle = document.getElementById('theme-toggle');
  const body = document.body;
  const icon = document.getElementById('theme-icon');

  function updateIcon(theme) {
    if (theme === 'dark') {
      icon.classList.remove('bi-moon');
      icon.classList.add('bi-sun');
    } else {
      icon.classList.remove('bi-sun');
      icon.classList.add('bi-moon');
    }
  }

  function setTheme(theme) {
    if (theme === 'dark') {
      body.classList.remove('bg-light');
      body.classList.add('bg-dark', 'text-light');
    } else {
      body.classList.remove('bg-dark', 'text-light');
      body.classList.add('bg-light');
    }
    localStorage.setItem('theme', theme);
    updateIcon(theme);
  }

  toggle.addEventListener('click', () => {
    const theme = body.classList.contains('bg-dark') ? 'light' : 'dark';
    setTheme(theme);
  });

  window.onload = () => {
    const savedTheme = localStorage.getItem('theme') || 'light';
    setTheme(savedTheme);
  };
</script>
